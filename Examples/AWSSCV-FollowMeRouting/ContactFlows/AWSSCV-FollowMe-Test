{"modules":[{"id":"a2979fa2-cd40-4336-9bb8-3aac29182413","type":"SetLoggingBehavior","branches":[{"condition":"Success","transition":"d37f502c-8274-480e-ab98-505d480d4db5"}],"parameters":[{"name":"LoggingBehavior","value":"Enable"}],"metadata":{"position":{"x":41,"y":160}}},{"id":"d37f502c-8274-480e-ab98-505d480d4db5","type":"SetVoice","branches":[{"condition":"Success","transition":"7d6ba09b-6071-4540-87cd-5458d126362f"}],"parameters":[{"name":"GlobalVoice","value":"Joanna"}],"metadata":{"position":{"x":42.31830978393555,"y":347.8036193847656}}},{"id":"7d6ba09b-6071-4540-87cd-5458d126362f","type":"SetAttributes","branches":[{"condition":"Success","transition":"6af40409-9020-4373-9001-b0e91b4963a8"},{"condition":"Error","transition":"7f4a80a0-3318-49f9-9008-f749004bd33b"}],"parameters":[{"name":"Attribute","value":"0053t000007QVvV@00D3t000003d8tt","key":"test_agent_id","namespace":null}],"metadata":{"position":{"x":319,"y":212}}},{"id":"6af40409-9020-4373-9001-b0e91b4963a8","type":"SetQueue","branches":[{"condition":"Success","transition":"b96dc4ec-4ea0-45e6-b59c-b15703c1e19d"},{"condition":"Error","transition":"7f4a80a0-3318-49f9-9008-f749004bd33b"}],"parameters":[{"name":"Agent","value":"test_agent_id","namespace":"User Defined","resourceName":null}],"metadata":{"position":{"x":559,"y":209},"useDynamic":true,"queue":"test_agent_id"}},{"id":"7f4a80a0-3318-49f9-9008-f749004bd33b","type":"PlayPrompt","branches":[{"condition":"Success","transition":"80bf5232-39bf-41ae-bd32-7fe65730b234"}],"parameters":[{"name":"Text","value":"We have encountered an error.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":845.0437622070312,"y":794.790771484375},"useDynamic":false}},{"id":"12f70e71-7410-4d0c-8d56-b690da1c0506","type":"InvokeExternalResource","branches":[{"condition":"Success","transition":"58907e3a-a082-4e36-a3d4-97081af46a71"},{"condition":"Error","transition":"7f4a80a0-3318-49f9-9008-f749004bd33b"}],"parameters":[{"name":"FunctionArn","value":"arn:aws:lambda:us-west-2:925547398772:function:awsscv_follow_me_scv0100d3t000003d8tt","namespace":null},{"name":"TimeLimit","value":"3"},{"name":"Parameter","key":"username","value":"test_agent_id","namespace":"User Defined"}],"metadata":{"position":{"x":1115,"y":426},"dynamicMetadata":{"username":true},"useDynamic":false},"target":"Lambda"},{"id":"b96dc4ec-4ea0-45e6-b59c-b15703c1e19d","type":"CheckStaffing","branches":[{"condition":"True","transition":"d5f6bc1f-6191-4b61-bea2-8616ffcbfcdd"},{"condition":"False","transition":"12f70e71-7410-4d0c-8d56-b690da1c0506"},{"condition":"Error","transition":"7f4a80a0-3318-49f9-9008-f749004bd33b"}],"parameters":[{"name":"Status","value":"Online"}],"metadata":{"position":{"x":821,"y":211},"useDynamic":false,"queue":null}},{"id":"d5f6bc1f-6191-4b61-bea2-8616ffcbfcdd","type":"PlayPrompt","branches":[{"condition":"Success","transition":"74da67d5-45c1-4ca7-8f58-e349cea126f3"}],"parameters":[{"name":"Text","value":"Transferring to queue. One moment please.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1402,"y":211},"useDynamic":false}},{"id":"74da67d5-45c1-4ca7-8f58-e349cea126f3","type":"Transfer","branches":[{"condition":"AtCapacity","transition":"2fd2622b-ef0f-4079-bc85-49b539561fe4"},{"condition":"Error","transition":"2fd2622b-ef0f-4079-bc85-49b539561fe4"}],"parameters":[],"metadata":{"position":{"x":1667.60595703125,"y":207.62420654296875},"useDynamic":false,"queue":null},"target":"Queue"},{"id":"2fd2622b-ef0f-4079-bc85-49b539561fe4","type":"Disconnect","branches":[],"parameters":[],"metadata":{"position":{"x":1933.4178466796875,"y":211.591552734375}}},{"id":"58907e3a-a082-4e36-a3d4-97081af46a71","type":"CheckAttribute","branches":[{"condition":"NoMatch","transition":"7f4a80a0-3318-49f9-9008-f749004bd33b"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"False","transition":"d5f6bc1f-6191-4b61-bea2-8616ffcbfcdd"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"True","transition":"e87c7865-ade1-4145-b15a-eb677d375162"}],"parameters":[{"name":"Attribute","value":"FollowMe"},{"name":"Namespace","value":"External"}],"metadata":{"position":{"x":1404.43896484375,"y":424.50555419921875},"conditionMetadata":[{"id":"c98d5161-88e3-414b-8326-13fcbcaf8cbb","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"False"},{"id":"f9468ad4-5653-424e-bdac-47ba2493ae0b","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"True"}]}},{"id":"e87c7865-ade1-4145-b15a-eb677d375162","type":"PlayPrompt","branches":[{"condition":"Success","transition":"2e997e17-b8da-4309-aead-9739297f0b43"}],"parameters":[{"name":"Text","value":"Connecting you to the agent's private line.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1668.9283447265625,"y":449.6320495605469},"useDynamic":false}},{"id":"55f8abd4-167c-4b39-ae6b-bd51da162f1a","type":"PlayPrompt","branches":[{"condition":"Success","transition":"e2ea500c-842a-46fe-863e-e11cca1c1edd"}],"parameters":[{"name":"Text","value":"One moment please.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":2539,"y":210},"useDynamic":false}},{"id":"e2ea500c-842a-46fe-863e-e11cca1c1edd","type":"SetQueue","branches":[{"condition":"Success","transition":"cab94cbd-0fee-4972-8c81-a067e6a28a2a"},{"condition":"Error","transition":"cab94cbd-0fee-4972-8c81-a067e6a28a2a"}],"parameters":[{"name":"Queue","value":"arn:aws:connect:us-west-2:925547398772:instance/871b2d6f-6637-405f-8c5e-9f732ef30a48/queue/350ed7d8-7abf-4d97-8d68-6a49a27942da","namespace":null,"resourceName":"BasicQueue"}],"metadata":{"position":{"x":2806,"y":210},"useDynamic":false,"queue":{"id":"arn:aws:connect:us-west-2:925547398772:instance/871b2d6f-6637-405f-8c5e-9f732ef30a48/queue/350ed7d8-7abf-4d97-8d68-6a49a27942da","text":"BasicQueue","arn":null,"metricDetail":null,"resourceId":null}}},{"id":"aa2aa94c-5f2c-48e4-bd63-051290e99d34","type":"GetUserInput","branches":[{"condition":"Timeout","transition":"a359dbe1-706c-40a7-9e96-015f36799d00"},{"condition":"NoMatch","transition":"a359dbe1-706c-40a7-9e96-015f36799d00"},{"condition":"Error","transition":"a359dbe1-706c-40a7-9e96-015f36799d00"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"1","transition":"55f8abd4-167c-4b39-ae6b-bd51da162f1a"}],"parameters":[{"name":"Text","value":"If you did not connect, or your problem was not solved, please press 1. Otherwise, you may hang up.","namespace":null},{"name":"TextToSpeechType","value":"text"},{"name":"Timeout","value":"5"},{"name":"MaxDigits","value":"1"}],"metadata":{"position":{"x":2303.703125,"y":421.86065673828125},"conditionMetadata":[{"id":"8c2ac97b-496f-4836-8df4-fe0428086dc6","value":"1"}],"useDynamic":false},"target":"Digits"},{"id":"cab94cbd-0fee-4972-8c81-a067e6a28a2a","type":"Transfer","branches":[{"condition":"AtCapacity","transition":"a0976a7e-dbb0-4e81-9d24-5264292306de"},{"condition":"Error","transition":"a0976a7e-dbb0-4e81-9d24-5264292306de"}],"parameters":[],"metadata":{"position":{"x":3072.044921875,"y":212.91400146484375},"useDynamic":false,"queue":null},"target":"Queue"},{"id":"a359dbe1-706c-40a7-9e96-015f36799d00","type":"PlayPrompt","branches":[{"condition":"Success","transition":"a0976a7e-dbb0-4e81-9d24-5264292306de"}],"parameters":[{"name":"Text","value":"Goodbye.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":2807,"y":504},"useDynamic":false}},{"id":"a0976a7e-dbb0-4e81-9d24-5264292306de","type":"Disconnect","branches":[],"parameters":[],"metadata":{"position":{"x":3361,"y":453}}},{"id":"80bf5232-39bf-41ae-bd32-7fe65730b234","type":"Disconnect","branches":[],"parameters":[],"metadata":{"position":{"x":1133.3372802734375,"y":826.5294799804688}}},{"id":"2e997e17-b8da-4309-aead-9739297f0b43","type":"Transfer","branches":[{"condition":"Success","transition":"aa2aa94c-5f2c-48e4-bd63-051290e99d34"},{"condition":"CallFailure","transition":"80a5a174-87f0-4b9b-b7dc-a1f09fab9903"},{"condition":"Timeout","transition":"80a5a174-87f0-4b9b-b7dc-a1f09fab9903"},{"condition":"Error","transition":"80a5a174-87f0-4b9b-b7dc-a1f09fab9903"}],"parameters":[{"name":"TimeLimit","value":"15"},{"name":"BlindTransfer","value":false},{"name":"PhoneNumber","value":"Callback","namespace":"External"}],"metadata":{"position":{"x":1932,"y":424}},"target":"PhoneNumber"},{"id":"80a5a174-87f0-4b9b-b7dc-a1f09fab9903","type":"PlayPrompt","branches":[{"condition":"Success","transition":"b4a4dbe9-f722-432b-8392-0be6a754d32a"}],"parameters":[{"name":"Text","value":"The agent could not be reached. Placing you into the main queue.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":2302,"y":768},"useDynamic":false}},{"id":"b4a4dbe9-f722-432b-8392-0be6a754d32a","type":"SetQueue","branches":[{"condition":"Success","transition":"7740930d-edb8-4489-b935-4cb91d69df5a"},{"condition":"Error","transition":"7740930d-edb8-4489-b935-4cb91d69df5a"}],"parameters":[{"name":"Queue","value":"arn:aws:connect:us-west-2:925547398772:instance/871b2d6f-6637-405f-8c5e-9f732ef30a48/queue/350ed7d8-7abf-4d97-8d68-6a49a27942da","namespace":null,"resourceName":"BasicQueue"}],"metadata":{"position":{"x":2593.319091796875,"y":768.3418579101562},"useDynamic":false,"queue":{"id":"arn:aws:connect:us-west-2:925547398772:instance/871b2d6f-6637-405f-8c5e-9f732ef30a48/queue/350ed7d8-7abf-4d97-8d68-6a49a27942da","text":"BasicQueue","arn":null,"metricDetail":null,"resourceId":null}}},{"id":"7740930d-edb8-4489-b935-4cb91d69df5a","type":"Transfer","branches":[{"condition":"AtCapacity","transition":"a0976a7e-dbb0-4e81-9d24-5264292306de"},{"condition":"Error","transition":"a0976a7e-dbb0-4e81-9d24-5264292306de"}],"parameters":[],"metadata":{"position":{"x":2860.453369140625,"y":772.3091430664062},"useDynamic":false,"queue":null},"target":"Queue"}],"version":"1","type":"contactFlow","start":"a2979fa2-cd40-4336-9bb8-3aac29182413","metadata":{"entryPointPosition":{"x":20,"y":20},"snapToGrid":false,"name":"AWSSCV-FollowMe-Test","description":"Basic test flow to validate functionality","type":"contactFlow","status":"published","hash":"2958bddc52c0951d273de8135ad4e32c89d2f7e41010167aafe83a69a53431dd"}}