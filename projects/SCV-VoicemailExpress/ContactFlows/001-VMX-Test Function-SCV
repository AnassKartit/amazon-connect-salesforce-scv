{"modules":[{"id":"a2e856a6-b552-40be-a599-9f77fd6eb79a","type":"SetLoggingBehavior","branches":[{"condition":"Success","transition":"2a4e0235-d9e3-4342-af6d-10dcc2cd6803"}],"parameters":[{"name":"LoggingBehavior","value":"Enable"}],"metadata":{"position":{"x":46.366668701171875,"y":177.1470546722412}}},{"id":"2a4e0235-d9e3-4342-af6d-10dcc2cd6803","type":"SetRecordingBehavior","branches":[{"condition":"Success","transition":"977c648f-ebbe-4775-8a0c-8a9c546bc736"}],"parameters":[{"name":"RecordingBehaviorOption","value":"Disable"},{"name":"RecordingParticipantOption","value":"Both"}],"metadata":{"position":{"x":44.366668701171875,"y":388.1470546722412}}},{"id":"977c648f-ebbe-4775-8a0c-8a9c546bc736","type":"SetVoice","branches":[{"condition":"Success","transition":"1b3e66c4-9686-4b35-81d1-acd1f7ea3c3c"}],"parameters":[{"name":"GlobalVoice","value":"Joanna"}],"metadata":{"position":{"x":45.366668701171875,"y":599.1470546722412}}},{"id":"1b3e66c4-9686-4b35-81d1-acd1f7ea3c3c","type":"PlayPrompt","branches":[{"condition":"Success","transition":"61b6b994-ec54-4356-8630-252400abedbd"}],"parameters":[{"name":"Text","value":"This is the voicemail test flow.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":326,"y":15},"useDynamic":false}},{"id":"4467aee3-29aa-4751-ad35-8072cb67c4c3","type":"Disconnect","branches":[],"parameters":[],"metadata":{"position":{"x":1144,"y":768}}},{"id":"918bce19-adbf-43ba-9c13-f9d6d14af047","type":"PlayPrompt","branches":[{"condition":"Success","transition":"4467aee3-29aa-4751-ad35-8072cb67c4c3"}],"parameters":[{"name":"Text","value":"We have encountered a system error. One moment while we find a representative.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":781,"y":755},"useDynamic":false}},{"id":"a36f4066-a2a9-4c0e-8047-9cdb428ea4e9","type":"SetQueue","branches":[{"condition":"Success","transition":"447c47da-ab13-4410-985d-4d4944fc8920"},{"condition":"Error","transition":"918bce19-adbf-43ba-9c13-f9d6d14af047"}],"parameters":[{"name":"Queue","value":"arn:aws:connect:us-west-2:246268452856:instance/70ee8936-d46e-40ff-96aa-5bf8a6c7f47e/queue/55e20933-92d0-47dc-bfb1-dd5761a1be63","namespace":null,"resourceName":"sff_fallback_queue"}],"metadata":{"position":{"x":863,"y":427.9662107803701},"useDynamic":false,"queue":{"id":"arn:aws:connect:us-west-2:246268452856:instance/70ee8936-d46e-40ff-96aa-5bf8a6c7f47e/queue/55e20933-92d0-47dc-bfb1-dd5761a1be63","text":"sff_fallback_queue"}}},{"id":"a40ce477-eecb-40df-8119-4327ecf4fc67","type":"Disconnect","branches":[],"parameters":[],"metadata":{"position":{"x":1426.37841796875,"y":248.57847595214844}}},{"id":"447c47da-ab13-4410-985d-4d4944fc8920","type":"SetAttributes","branches":[{"condition":"Success","transition":"c9711647-8de0-41bf-96c7-753185e659a3"},{"condition":"Error","transition":"918bce19-adbf-43ba-9c13-f9d6d14af047"}],"parameters":[{"name":"Attribute","value":"queue","key":"vm_queue_type","namespace":null}],"metadata":{"position":{"x":1142.603515625,"y":432.6309509277344}}},{"id":"c8febd85-dc5a-4bc5-938f-bf2bae3b51e1","type":"SetAttributes","branches":[{"condition":"Success","transition":"e166895b-927a-40da-9c62-10f78417f205"},{"condition":"Error","transition":"99aa3e2f-4e55-48fc-8787-22a3432a359e"}],"parameters":[{"name":"Attribute","value":"agent","key":"vm_queue_type","namespace":null}],"metadata":{"position":{"x":1143.5919189453125,"y":20.241195678710938}}},{"id":"99aa3e2f-4e55-48fc-8787-22a3432a359e","type":"PlayPrompt","branches":[{"condition":"Success","transition":"a40ce477-eecb-40df-8119-4327ecf4fc67"}],"parameters":[{"name":"Text","value":"We have encountered a system error. One moment while we find a representative.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1142,"y":248},"useDynamic":false}},{"id":"61b6b994-ec54-4356-8630-252400abedbd","type":"GetUserInput","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"1","transition":"39b2f5a6-cf05-48e8-bbff-bcba44222485"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"2","transition":"a36f4066-a2a9-4c0e-8047-9cdb428ea4e9"},{"condition":"Timeout","transition":"a36f4066-a2a9-4c0e-8047-9cdb428ea4e9"},{"condition":"NoMatch","transition":"a36f4066-a2a9-4c0e-8047-9cdb428ea4e9"},{"condition":"Error","transition":"918bce19-adbf-43ba-9c13-f9d6d14af047"}],"parameters":[{"name":"Text","value":"Press 1 to test a direct to agent voice mail. Press 2 to test a queue voicemail.","namespace":null},{"name":"TextToSpeechType","value":"text"},{"name":"Timeout","value":"5"},{"name":"MaxDigits","value":"1"}],"metadata":{"position":{"x":562,"y":14},"conditionMetadata":[{"id":"1ae0ee05-b4f6-48eb-981e-c13b281d6e7c","value":"1"},{"id":"fe709056-5223-4c81-9724-13fa755e75b1","value":"2"}],"useDynamic":false},"target":"Digits"},{"id":"39b2f5a6-cf05-48e8-bbff-bcba44222485","type":"SetQueue","branches":[{"condition":"Success","transition":"c8febd85-dc5a-4bc5-938f-bf2bae3b51e1"},{"condition":"Error","transition":"99aa3e2f-4e55-48fc-8787-22a3432a359e"}],"parameters":[{"name":"Agent","value":"arn:aws:connect:us-west-2:246268452856:instance/70ee8936-d46e-40ff-96aa-5bf8a6c7f47e/agent/0dcdc0c5-847a-4ea2-bb15-e174ecbfd7a1","namespace":null,"resourceName":"dougjaso@amazon.com (Jason Douglas)"}],"metadata":{"position":{"x":862,"y":17},"useDynamic":false,"queue":{"id":"arn:aws:connect:us-west-2:246268452856:instance/70ee8936-d46e-40ff-96aa-5bf8a6c7f47e/agent/0dcdc0c5-847a-4ea2-bb15-e174ecbfd7a1","text":"dougjaso@amazon.com (Jason Douglas)"}}},{"id":"4c3215ff-ddd3-4cc4-a75d-901f3bfbd2e4","type":"Disconnect","branches":[],"parameters":[],"metadata":{"position":{"x":2521.745849609375,"y":244.82968139648438}}},{"id":"08a51b26-8b7f-4a43-a57f-116edb606ce8","type":"PlayPrompt","branches":[{"condition":"Success","transition":"4c3215ff-ddd3-4cc4-a75d-901f3bfbd2e4"}],"parameters":[{"name":"Text","value":"We have encountered a system error. One moment while we find a representative.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":2275.167236328125,"y":243.08090209960938},"useDynamic":false}},{"id":"2d4ffa7b-4a78-4c14-a2ce-63fce8bc257b","type":"Transfer","branches":[{"condition":"Error","transition":"08a51b26-8b7f-4a43-a57f-116edb606ce8"}],"parameters":[{"name":"ContactFlowId","value":"arn:aws:connect:us-west-2:246268452856:instance/70ee8936-d46e-40ff-96aa-5bf8a6c7f47e/contact-flow/704324e6-b270-4d4c-a7d3-c3f975843c63","resourceName":"001-VMX-Sample VM-SCV"}],"metadata":{"position":{"x":2021,"y":249},"useDynamic":false,"ContactFlow":{"id":"arn:aws:connect:us-west-2:246268452856:instance/70ee8936-d46e-40ff-96aa-5bf8a6c7f47e/contact-flow/704324e6-b270-4d4c-a7d3-c3f975843c63","text":"001-VMX-Sample VM-SCV"}},"target":"Flow"},{"id":"e166895b-927a-40da-9c62-10f78417f205","type":"PlayPrompt","branches":[{"condition":"Success","transition":"dfa0b76f-d163-44ab-bf9d-6a8d2b76b092"}],"parameters":[{"name":"Text","value":"Connecting to agent voicemail.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1465.4296875,"y":20.241195678710938},"useDynamic":false}},{"id":"c9711647-8de0-41bf-96c7-753185e659a3","type":"PlayPrompt","branches":[{"condition":"Success","transition":"dfa0b76f-d163-44ab-bf9d-6a8d2b76b092"}],"parameters":[{"name":"Text","value":"Connecting to queue voicemail","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1462.4296875,"y":432.6194763183594},"useDynamic":false}},{"id":"dfa0b76f-d163-44ab-bf9d-6a8d2b76b092","type":"SetAttributes","branches":[{"condition":"Success","transition":"2d4ffa7b-4a78-4c14-a2ce-63fce8bc257b"},{"condition":"Error","transition":"2d4ffa7b-4a78-4c14-a2ce-63fce8bc257b"}],"parameters":[{"name":"Attribute","value":"en-US","key":"vm_lang","namespace":null},{"name":"Attribute","value":"Queue.ARN","key":"vm_queue_arn","namespace":"System"},{"name":"Attribute","value":"Queue.Name","key":"vm_queue_name","namespace":"System"},{"name":"Attribute","value":"Customer Number","key":"vm_from","namespace":"System"},{"name":"Attribute","value":"Low","key":"vm_priority","namespace":null}],"metadata":{"position":{"x":1760,"y":244}}}],"version":"1","type":"contactFlow","start":"a2e856a6-b552-40be-a599-9f77fd6eb79a","metadata":{"entryPointPosition":{"x":15,"y":23.14705467224121},"snapToGrid":false,"name":"001-VMX-Test Function-SCV","description":"Test flow to validate voicemail operation for both queue and agent voicemails.","type":"contactFlow","status":"published","hash":"fc69edf2f1a93112a5ee6410ec1200dfbf42e184bed975f4be1e893d9dbb0878"}}